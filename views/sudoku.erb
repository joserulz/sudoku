<%
@ganaste = false
if @validacion != nil and @validacion.length == 0
    @ganaste = true
end
%><!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="sudoku.css">
	</head>
	<body>
		<h1>SUDOKU</h1>
		<div class="contenedor">
			<div class="num-horizontal">
				<span>1</span>
				<span>2</span>
				<span>3</span>
			</div>
			<div class="num-vertical">
				<span>1</span>
				<span>2</span>
				<span>3</span>
			</div>
			<form method="POST" action="/sudoku">
				<section>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" oninvalid="setCustomValidity('Ingresa un número del 1 al <%= @cells.length%>')"
    onchange="try{setCustomValidity('')}catch(e){}" name="cells[0][0]" value="<%= @cells["0"]["0"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[0][1]" value="<%= @cells["0"]["1"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[0][2]" value="<%= @cells["0"]["2"] %>">
					</article>
				</section>
				<section>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[1][0]" value="<%= @cells["1"]["0"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[1][1]" value="<%= @cells["1"]["1"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[1][2]" value="<%= @cells["1"]["2"] %>">

					</article>
				</section>
				<section class="abajo">
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[2][0]" value="<%= @cells["2"]["0"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[2][1]" value="<%= @cells["2"]["1"] %>">
					</article>
					<article>
						<input type="text" required pattern="[1-<%= @cells.length%>]" title="Ingresa un número del 1 al <%= @cells.length%>" x-moz-errormessage="Ingresa un número del 1 al <%= @cells.length%>" name="cells[2][2]" value="<%= @cells["2"]["2"] %>">
					</article>
				</section>
				<input type="submit" class="jugar" value="Jugar"/>
			</form>
		</div>
		<div class="mensaje">
        <% if @validacion != nil %>
            <% if @ganaste %>
                <% @validacion << "Ganaste!" %>
            <% end %>
		<% for @mensaje in @validacion %>
		    <p><%= @mensaje %></p>
		<% end %>
        <% end %>
		</div>
    <% if @ganaste %>
        <div class="contenedor">
		<form method="GET" action="/">
		    <input type="submit" name="action" value="Nuevo juego"/>
		</form>
	</div>
    <% end %>
	</body>
</html>
